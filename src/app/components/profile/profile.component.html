<br>
<br>
<br>
<br>
<br>
<div class="container emp-profile">
    <div class="alert alert-danger"  *ngIf="this.JwtService.err">{{this.JwtService.err}}</div>
    <div class="alert alert-success"  *ngIf="this.JwtService.succ">{{this.JwtService.succ}}</div>

    <form method="post">
        <div class="row">
            <div class="col-md-4">
                <div class="profile-img">
                    <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS52y5aInsxSm31CvHOFHWujqUx_wWTS9iM6s7BAm21oEN_RiGoog" alt="" />
                    <div class="file btn btn-lg btn-primary">
                        Change Photo
                        <!-- <UploadimageComponent></UploadimageComponent> -->
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="profile-head">
                    <h5>
{{user.username}}
                    </h5>
                    <h6>
                        {{user.email}}
                    </h6>
                    <ul class="nav nav-tabs" id="myTab" role="tablist">
                        <li class="nav-item">
                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab" aria-controls="profile" aria-selected="false">Timeline</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="col-md-2">
                <button type="submit" class="profile-edit-btn" (click)="setDefault()"  (click)="open(mymodal)"> Edit Profile</button> 
                <button type="submit" class="profile-edit-btn" (click)="deleteUser()">Delete Profile</button> 

            </div>
        </div>
       
            <div class="col-md-8">
                <div class="tab-content profile-tab" id="myTabContent">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                        <div class="row">
                            <div class="col-md-6">
                                <label>User Id</label>
                            </div>
                            <div class="col-md-6">
                                <p>{{user._id}}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Name</label>
                            </div>
                            <div class="col-md-6">
                                <p>{{user.username}}</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <label>Email</label>
                            </div>
                            <div class="col-md-6">
                                <p> {{user.email}}</p>
                            </div>
                        </div>
                       
                    </div>
    
                </div>
            </div>
    </form>
</div>
<br>
<br>
<br>

<ng-template #mymodal let-modal>
    <h4 class="text-center p-4">
  update
  </h4>
  <form [formGroup]="myForm" class="row g-3 ">
    <div class="form-group col-12"  >
  
      <div class="col-12"  >
          <label for="username" class="form-label">username</label>
          <input type="username" name="username" formControlName="username"  value=`${user.username}`  formControlValue="user.username" class="form-control" id="username" >
          <p *ngIf="myForm.controls.username.errors  && myForm.controls.username.touched" class="alert alert-danger">
            title is not valid
            <span *ngIf="myForm.controls.username.errors.required && myForm.controls.username.touched">
                plz fill title input
            </span>
            <span *ngIf="myForm.controls.username.errors.maxlength && myForm.controls.username.touched">
            length must be less than 100
            </span>
            <span *ngIf="myForm.controls.username.errors.mixlength && myForm.controls.username.touched">
              length must be more than 3
              </span>
        </p>  
      </div>
  
      <div class="col-12">
        <label for="email" class="form-label">email</label>
        <input type="email" name="email" formControlName="email" value=`${user.email}`  class="form-control" id="email" placeholder="email">
        <p *ngIf="myForm.controls.email.errors  && myForm.controls.email.touched" class="alert alert-danger">
            email is not valid
          <span *ngIf="myForm.controls.email.errors.required && myForm.controls.email.touched">
              plz fill email input
          </span>
          <span *ngIf="myForm.controls.email.errors.email && myForm.controls.email.touched">
        enter a valid email
          </span>
         
      </p> 
    </div>
    <div class="form-group text-center">
        <input type="button" class="btn btn-dark" value="update"
        (click)="updateMyProfile()"(click)="modal.close('Save click')"
        />
    </div>
  
  
  
      </div>
  
   
    
  </form>
  </ng-template>